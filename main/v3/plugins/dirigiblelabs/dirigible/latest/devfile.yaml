schemaVersion: 2.1.0
metadata:
  name: Eclipse Dirigible
components:
  - name: eclipse-dirigible
    container:
      image: 'docker.io/dirigiblelabs/dirigible-openshift:3.4.0'
      env:
        - name: DIRIGIBLE_DATABASE_PROVIDER
          value: local
        - name: DIRIGIBLE_REPOSITORY_LOCAL_ROOT_FOLDER
          value: /projects/dirigible/repository
        - name: DIRIGIBLE_REPOSITORY_LOCAL_ROOT_FOLDER_IS_ABSOLUTE
          value: 'true'
        - name: DIRIGIBLE_REPOSITORY_SEARCH_ROOT_FOLDER
          value: /projects/dirigible/repository
        - name: DIRIGIBLE_REPOSITORY_SEARCH_ROOT_FOLDER_IS_ABSOLUTE
          value: 'true'
        - name: DIRIGIBLE_CMS_INTERNAL_ROOT_FOLDER
          value: /projects/dirigible/cms
        - name: DIRIGIBLE_CMS_INTERNAL_ROOT_FOLDER_IS_ABSOLUTE
          value: 'true'
        - name: DIRIGIBLE_DATABASE_H2_ROOT_FOLDER_DEFAULT
          value: /projects/dirigible/h2
        - name: DIRIGIBLE_DATABASE_H2_URL
          value: 'jdbc:h2:/projects/dirigible/h2'
        - name: DIRIGIBLE_OPERATIONS_LOGS_ROOT_FOLDER_DEFAULT
          value: /usr/local/tomcat/logs
      mountSources: true
      memoryLimit: 1024M
      endpoints:
        - name: dirigible
          attributes:
            type: main
          targetPort: 8080
          exposure: public
          protocol: http
    attributes: {}
