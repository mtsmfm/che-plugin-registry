schemaVersion: 2.1.0
metadata:
  name: Che Async Storage Service
components:
  - name: che-rsync
    container:
      image: 'quay.io/eclipse/che-sidecar-workspace-data-sync:0.0.1'
      env:
        - name: RSYNC_PORT
          value: '2222'
      mountSources: true
      memoryLimit: 512M
      endpoints:
        - name: che-rsync-events
          attributes:
            type: rsync
            discoverable: false
            secure: false
            cookiesAuthEnabled: true
          targetPort: 4445
          exposure: public
          protocol: ws
